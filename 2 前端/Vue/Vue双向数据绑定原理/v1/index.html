<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>self-vue V0.2</title>
  </head>

  <style>
    #name {
      text-align: center;
    }
  </style>

  <body>
    <!-- 变量name在这个仅起占位符，并没有模板功能。 -->
    <h1 id="name">{{name}}</h1>
  </body>

  <script src="observer.js"></script>
  <script src="watcher.js"></script>
  <script src="index.js"></script>

  <script type="text/javascript">
    // 1. 获得页面元素
    var ele = document.querySelector('#name');

    // 2. 初始化页面元素值。new一个对象，this对向新对象本身，默认return对象本身。
    var selfVue = new SelfVue({ name: 'hello world' }, ele, 'name');

    // 3. 修改页面元素值
    window.setTimeout(function () {
      selfVue.name = 'canfoo';
    }, 700);

    var name = 'lucy';
    let obj = {
      name: 'martin',
      say: function () {
        console.log(this.name);
      },
    };
    obj.say(); //martin，this指向obj对象
    setTimeout(obj.say.bind(obj), 0); //lucy，this指向window对象

  </script>
</html>
