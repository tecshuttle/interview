# 《高性能网站建设指南》

前端性能的重要性

HTTP概述

规则1：减少HTTP请求

规则2：使用内容发布网络

规则3：添加Expires头

规则4：压缩组件

规则5：将样式表放在顶部

规则6：将脚本放在底部

规则7：避免CSS表达式

规则8：使用外部JavaScript和CSS

### 规则9：减少DNS查找

- 十大美国网站发送给客户端的最大TTL（Time-to-live）值在1分钟到1小时之间。

- 通过使用Keep-Alive和较少的域名来减少DNS查找。

### 规则10：精简JavaScript

- 我从未见过精简会带来问题，但我见过由混淆引起的缺陷。
- gzip缩产生的影响最大，但精简能够进一步减少文件大小。

规则11：避免重定向

### 规则12：移除重复脚本

- 导致一个脚本的重复有两个主要因素——团队大小和脚本数量。
- 确保脚本只被包含一次。

### 规则13：配置ETag

- 服务器在检测缓存的组件是否和原始服务器上的组件匹配时有两种方式：
  - 比较最新修改日期：Last-Modified
  - 比较实体标签：ETag
- 对于拥有多台服务器的网站，ETag会大大降低有效性验证的成功率。
- If-None-Match比If-Modified-Since具有更高的优先级。

### 规则14：使Ajax可缓存

- 当数据被认为是私有的时，大多会使用`Cache-Control: no-store`。在使用了这个头之后，响应根本就不会被写入到磁盘上。但是，HTTP规范警告说不要依赖这一机制来确保数据的隐私性，恶意的或危险的缓存会完全忽略`Cache-Control: no-store`头。

析构十大网站